import React, { useEffect } from "react";
import "./App.scss";
import Intro from "./components/Intro/Intro";
import Carta from "./components/Carta/Carta";
import Footer from "./components/Footer/Footer";

export default function App() {
  useEffect(() => {
    // Funci√≥n para forzar que la primera secci√≥n ocupe toda la pantalla
    const handleScroll = () => {
      const firstSection = document.querySelector('.sections > *:first-child');
      // Verificamos si el scroll ha llegado a la primera secci√≥n
      if (window.scrollY >= firstSection.offsetTop) {
        // Si es as√≠, forzamos que la primera secci√≥n tenga una altura del 100vh
        firstSection.style.height = '100vh';
      }
    };

    window.addEventListener('scroll', handleScroll); // Agregamos el event listener
    return () => window.removeEventListener('scroll', handleScroll); // Limpiamos el event listener
  }, []);

  return (
    <div className="App">
      <div className="sections">
        <Intro />
        <Carta />
        <Footer /> {/* El footer ahora es parte del flujo normal */}
      </div>
    </div>
  );
}
@import "./global.scss";
.App {
  display: flex;
  flex-direction: column;
  background-color: $mainColor;

  .sections {
    flex-grow: 1;
    overflow-y: auto;
    margin: 0;
    scroll-snap-type: y mandatory;
    height: 100vh;

    & > * {
      scroll-snap-align: start;
      width: 100%;
    }

    & > *:first-child {
      height: 100vh;
    }

    & > *:nth-child(2),
    & > *:nth-child(3) {
      min-height: 100vh;
    }
  }

  .space {
    height: 100px; 
  }
}
//src/components/Carta/App.jsx
import React, { useState, useEffect } from "react";
import "./Carta.scss";

export default function Carta() {
  const [data, setData] = useState([]);

  useEffect(() => {
    fetch("/data/platos.json")
      .then((response) => response.json())
      .then((data) => setData(data))
      .catch((error) => console.error("Error al cargar el JSON:", error));
  }, []);

  return (
    <div className="carta" id="carta">
      <h2>Selecciona tu Plato</h2>
      <div className="platosContainer">
        {data.map((plato) => (
          <div key={plato.id} className="plato">
            <img src={plato.img} alt={plato.title} />
            <h3>{plato.title}</h3>
            <p>{plato.desc}</p>
            <p className="precio">Precio: S/ {plato.precio}</p>
            <a href={plato.link} target="_blank" rel="noreferrer">
              Ordenar Ahora
            </a>
          </div>
        ))}
      </div>

      {/* Espacio adicional al final de la carta */}
      <div className="space"></div>
    </div>
  );
}
@import "../../global.scss";

.carta {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  background-color: $whiteColor;

  h2 {
    margin-bottom: 20px;
    color: $lineColor;
  }

  .platosContainer {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;

    .plato {
      background-color: $grayColor;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      padding: 15px;
      width: 300px;
      text-align: center;

      img {
        max-width: 100%;
        max-height: 200px;
        border-radius: 8px;
      }

      h3 {
        color: $lineColor;
      }

      .precio {
        color: $secondaryColor;
        font-weight: bold;
      }

      a {
        display: inline-block;
        margin-top: 10px;
        background-color: $accentColor;
        color: $whiteColor;
        padding: 10px 15px;
        text-decoration: none;
        border-radius: 5px;

        &:hover {
          background-color: $buttonHoverColor;
        }
      }
    }
  }

  .space {
    height: 300px;
    width: 100%;
  }
}
//src/components/Footer/App.css
import React from "react";
import "./Footer.scss";

export default function Footer() {
  return (
    <footer className="footer">
      <div className="footer-section">
        <img src="assets/logotipo_sin fondo.png" alt="Mijuy Logo" className="footer-logo" />
        <p>¬© 2024 Mijuy. Todos los derechos reservados.</p>
      </div>
      <div className="footer-section">
        <h4>Cont√°ctanos</h4>
        <p>WhatsApp: +51 950276474</p>
        <p>Email: contacto@mijuy.com</p>
      </div>
      <div className="footer-section">
        <h4>Libro de Reclamaciones</h4>
        <a href="/libro-reclamaciones">Ir al Libro de Reclamaciones</a>
      </div>
    </footer>
  );
}
@import "../../global.scss";
.footer {
  width: 100%;
  background-color: $secondaryColor;
  color: $whiteColor;
  display: flex;
  justify-content: space-around;
  align-items: center;
  padding: 20px;
  flex-wrap: wrap;
  margin-top: 20px;
}

.footer-section {
  margin: 10px;

  h4 {
    margin-bottom: 10px;
  }

  p, a {
    font-size: 14px;
    color: $whiteColor;
  }

  a {
    text-decoration: underline;
  }

  .footer-logo {
    width: 100px;
    margin-bottom: 10px;
  }
}
// Definimos los colores globales basados en el logo y los colores opcionales
$mainColor: #1d1d1b; // Color base
$secondaryColor: #dc052b; // Rojo intenso
$accentColor: #f29300; // Naranja
$highlightColor: #ffd100; // Amarillo
$whiteColor: #ffffff; // Blanco
$grayColor: #b1afb0; // Gris suave

// Otros colores
$lineColor: #303030; // Gris oscuro para l√≠neas
$lightTextColor: #b6b6b6; // Texto m√°s claro
$buttonHoverColor: #dd052b; // Color de hover de los botones

// Definici√≥n de mixins
$width: 799px;

@mixin mobile {
  @media (max-width: #{$width}) {
    @content;
  }
}
import "./intro.scss";
import { init } from "ityped";
import { useEffect, useRef } from "react";

export default function Intro() {
  const textRef = useRef();
  useEffect(() => {
    init(textRef.current, {
      showCursor: true,
      backDelay: 1500,
      backSpeed: 60,
      strings: ["Pizzas", "Alitas", "Hamburguesas", "Salchipapas"],
    });
  }, []);
  return (
    <div className="intro" id="intro">
      <div className="left">
        <div className="imgContainer">
          <img src="assets/logotipo_sin fondo.png" alt="" />
        </div>
      </div>
      <div className="right">
        <div className="weapper">
          <h2>¬° Bienvenido a Mijuy !</h2>
          <h1>¬°Despliega hacia abajo y sum√©rgete en una experiencia √∫nica! Disfruta de sabores aut√©nticos en cada bocado. üçïüçîüéâ</h1>
          <h1>Tambien estamos por TELEGRAM: 950276474</h1>
          <h3>
            Aprovecha nuestros descuentos del 20% en varios platos, delivery Gratis para la Alameda Salaverry y Santa Rita: <span ref={textRef}></span>
          </h3>
        </div>
        <a href="#carta">
          <img src="assets/down_red.png" alt="" />
        </a>
      </div>
    </div>
  );
}
@import "../../global.scss";

.intro {
  background-color: $mainColor;
  display: flex;

  @include mobile {
    flex-direction: column;
    align-items: center;
  }

  .left {
    flex: 0.5;
    overflow: hidden;
    .imgContainer {
      width: 600px;
      height: 600px;
      background-color: $mainColor;
      border-radius: 60%;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      float: right;
      margin-top: 10px;

      @include mobile {
        width: 300px;
        height: 300px;
        align-items: flex-start;
        border-radius: 50%;
      }

      img {
        height: 95%;
      }
    }
  }

  .right {
    flex: 0.5;
    position: relative;

    .weapper {
      width: 90%;
      height: 100%;
      padding-left: 50px;
      display: flex;
      flex-direction: column;
      justify-content: center;

      @include mobile {
        padding-left: 35px;
        align-items: center;
        justify-content: flex-start;
      }

      h1 {
        font-size: 30px;
        margin: 10px 0;
        color: $whiteColor;

        @include mobile {
          font-size: 20px;
        }
      }

      h2 {
        font-size: 55px;
        color: $highlightColor;

        @include mobile {
          font-size: 30px;
        }
      }

      h3 {
        font-size: 30px;
        color: $secondaryColor;

        @include mobile {
          font-size: 20px;
        }

        span {
          font-size: inherit;
          color: $secondaryColor;
        }

        .ityped-cursor {
          animation: blink 1s infinite;
        }

        @keyframes blink {
          50% {
            opacity: 1;
          }
          100% {
            opacity: 0;
          }
        }
      }
    }

    a {
      position: absolute;
      bottom: 60px;
      left: 40%;
      img {
        width: 60px;
        animation: arrowBlink 2s infinite;
      }

      @keyframes arrowBlink {
        80% {
          opacity: 20%;
        }
      }

      @include mobile {
        position: absolute;
        left: 45%;
      }
    }
  }
}
